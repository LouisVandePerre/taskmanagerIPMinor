<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymleaf.com">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/style.css">
    <title th:text="#{Task_details}"></title>
</head>
<body>

<h1><span th:text="#{Tasks}"/></h1>
<h1> <span th:text="#{Welcome}"/> </h1>

<nav>
    <p><span th:text="#{ChangeLang}"/></p>
    <select id="locales">
        <option value=""></option>
        <option value="en" th:text="#{lang.en}"></option>
        <option value="nl" th:text="#{lang.nl}"></option>
    </select>
</nav>

<div th:if="${task != null}">

    <p> <span th:text="#{Titel}"/> : <span th:text="${task.title}"/> </p>
    <p><span th:text="#{Description}"/>: <span th:text="${task.description}"></span></p>
    <p> <span th:text="#{DueDate}"/> date: <span th:text="${task.deuDate}" ></span></p>
    <h3> <span th:text="#{sub_tasks}"/>: </h3>
    <ul>
    <li th:each="task: ${subtasks}">
        <span th:text="#{Titel}"/>: <span th:text="${task.title}"/> <br>
        <span th:text="#{Description}"/>: <span th:text="${task.description}"/> <br>
    </li></ul>

    <a th:href="@{/tasks}"> <span th:text="#{view_all}"/> </a> <br>

</div>
<div th:if="${task == null}"> <span th:text="#{no_tasks_left}"/> </div>
</body>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js">
</script>
<script type="text/javascript">
    $(document).ready(function() {
        $("#locales").change(function () {
            var selectedOption = $('#locales').val();
            if (selectedOption != ''){
                window.location.replace('?lang=' + selectedOption);
            }
        });
    });
</script>
</html>
